<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the ajwahTest function from the ajwah_bloc_test library, for the Dart programming language.">
  <title>ajwahTest function - ajwah_bloc_test library - Dart API</title>

  
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400i,400,300|Source+Sans+Pro:400,300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../static-assets/github.css">
  <link rel="stylesheet" href="../static-assets/styles.css">
  <link rel="icon" href="../static-assets/favicon.png">

</head>

<body data-base-href="../"
      data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../index.html">ajwah_bloc_test</a></li>
    <li><a href="../ajwah_bloc_test/ajwah_bloc_test-library.html">ajwah_bloc_test</a></li>
    <li class="self-crumb">ajwahTest&lt;<wbr><span class="type-parameter">State</span>&gt; function</li>
  </ol>
  <div class="self-name">ajwahTest</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>

  <div id="dartdoc-sidebar-left" class="col-xs-6 col-sm-3 col-md-2 sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
      <form class="search-sidebar" role="search">
        <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
      </form>
    </header>
    
    <ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
      <li><a href="../index.html">ajwah_bloc_test</a></li>
      <li><a href="../ajwah_bloc_test/ajwah_bloc_test-library.html">ajwah_bloc_test</a></li>
      <li class="self-crumb">ajwahTest&lt;<wbr><span class="type-parameter">State</span>&gt; function</li>
    </ol>
    
    <h5>ajwah_bloc_test library</h5>
    <ol>
    
    
    
    
    
      <li class="section-title"><a href="../ajwah_bloc_test/ajwah_bloc_test-library.html#functions">Functions</a></li>
      <li><a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a></li>
      <li><a href="../ajwah_bloc_test/runAjwahTest.html">runAjwahTest</a></li>
    
    
    
    </ol>
  </div><!--/.sidebar-offcanvas-left-->

  <div id="dartdoc-main-content" class="col-xs-12 col-sm-9 col-md-8 main-content">
      <div><h1><span class="kind-function">ajwahTest&lt;<wbr><span class="type-parameter">State</span>&gt;</span> function  </h1></div>

    <section class="multi-line-signature">
        <div>
          <ol class="annotation-list">
            <li>@isTest</li>
          </ol>
        </div>
        <span class="returntype">void</span>
                <span class="name ">ajwahTest</span>
&lt;<wbr><span class="type-parameter">State</span>&gt;(<wbr><ol class="parameter-list"><li><span class="parameter" id="ajwahTest-param-description"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/String-class.html">String</a></span> <span class="parameter-name">description</span>, </span></li>
<li><span class="parameter" id="ajwahTest-param-build">{<span>@required</span> <span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-async/Stream-class.html">Stream</a><span class="signature">&lt;<wbr><span class="type-parameter">State</span>&gt;</span></span> <span class="parameter-name">build</span>(<ol class="parameter-list"></ol>
), </span></li>
<li><span class="parameter" id="ajwahTest-param-act"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/Function-class.html">Function</a></span> <span class="parameter-name">act</span>, </span></li>
<li><span class="parameter" id="ajwahTest-param-wait"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/Duration-class.html">Duration</a></span> <span class="parameter-name">wait</span>, </span></li>
<li><span class="parameter" id="ajwahTest-param-skip"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/int-class.html">int</a></span> <span class="parameter-name">skip</span>: <span class="default-value">0</span>, </span></li>
<li><span class="parameter" id="ajwahTest-param-expect"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/Iterable-class.html">Iterable</a></span> <span class="parameter-name">expect</span>, </span></li>
<li><span class="parameter" id="ajwahTest-param-verify"><span class="type-annotation">dynamic</span> <span class="parameter-name">verify</span>(<ol class="parameter-list"><li><span class="parameter" id="param-models"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/List-class.html">List</a><span class="signature">&lt;<wbr><span class="type-parameter">State</span>&gt;</span></span> <span class="parameter-name">models</span></span></li>
</ol>
), </span></li>
<li><span class="parameter" id="ajwahTest-param-errors"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/Iterable-class.html">Iterable</a></span> <span class="parameter-name">errors</span>, </span></li>
<li><span class="parameter" id="ajwahTest-param-tearDown"><span class="type-annotation"><a href="https://api.dart.dev/stable/2.9.2/dart-core/Function-class.html">Function</a></span> <span class="parameter-name">tearDown</span>}</span></li>
</ol>)
    </section>
    <section class="desc markdown">
      <p><code>ajwahStore</code> must notify it's subscriber with it's current state when subscription
point start listening.</p>
<p>Creates a new test case with the given <code>description</code>.
<a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a> will handle asserting that the <code>store</code> emits the <code>expect</code>ed
states (in order) after <code>act</code> is executed.</p>
<p><code>build</code> should be used for initialization and preparation
and must return part of the <code>stream</code> under test.</p>
<p><code>act</code> is an optional callback which will be invoked to dispatch action/s under
test.</p>
<p><code>skip</code> is an optional <code>int</code> which can be used to skip any number of states.
<code>skip</code> defaults to 0.</p>
<p><code>wait</code> is an optional <code>Duration</code> which can be used to wait for
async operations within the <code>store</code> such as <code>debounceTime</code>.</p>
<p><code>expect</code> is an optional <code>Iterable</code> of matchers which is expected to emit after
<code>act</code> is executed.</p>
<p><code>verify</code> is an optional callback which is invoked after <code>expect</code>
and can be used for additional verification/assertions.
<code>verify</code> is called with the emited <code>list of state</code>.</p>
<p><code>tearDown</code> is an optional callback for clean up if you want.</p>
<pre class="language-dart"><code class="language-dart">ajwahTest(
  'CounterState emits [1] when `dispatch('inc')`',
  build: () =&gt; select('counter'),
  act: () =&gt; dispatch('inc'),
  expect: [0, 1],
);
</code></pre>
<p><a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a> can also be used to test the initial state of the <code>counter</code> state
by omitting <code>act</code>.</p>
<pre class="language-dart"><code class="language-dart">ajwahTest(
  'CounterState emits [0] when nothing is called',
  build: () =&gt; select('counter'),
  expect: [0],
);
</code></pre>
<p><a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a> can also be used to <code>skip</code> any number of emitted states
before asserting against the expected states.
<code>skip</code> defaults to 0.</p>
<pre class="language-dart"><code class="language-dart">ajwahTest(
  'CounterState emits [2] when dispatch `inc` action twice',
  build: () =&gt; select('counter'),
  act: () {
    dispatch('inc');
    dispatch('inc');
  },
  skip: 2,
  expect: [2],
);
</code></pre>
<p><a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a> can also be used to wait for async operations
by optionally providing a <code>Duration</code> to <code>wait</code>.</p>
<pre class="language-dart"><code class="language-dart">ajwahTest(
  'CounterState emits [1] when dispatch `inc` action',
  build: () =&gt; select('counter'),
  act: () =&gt; dispatch('inc'),
  wait: const Duration(milliseconds: 300),
  expect: [0,1],
);
</code></pre>
<p><a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a> can also be used to <code>verify</code> internal stream functionality.</p>
<pre class="language-dart"><code class="language-dart">ajwahTest(
  'CounterState emits [1] when dispatch `inc` action',
  build: () =&gt; select('counter'),
  act: () =&gt; dispatch('inc'),
  expect: [0, 1],
  verify: (_) {
    verify(repository.someMethod(any)).called(1);
  }
);
</code></pre>
<p><strong>Note:</strong> when using <a href="../ajwah_bloc_test/ajwahTest.html">ajwahTest</a> with state classes which don't override
<code>==</code> and <code>hashCode</code> you can provide an <code>Iterable</code> of matchers instead of
explicit state instances.</p>
<pre class="language-dart"><code class="language-dart">ajwahTest(
 'emits [CounterModel] when dispatch `inc` action',
 build: () =&gt; select('counter'),
 act: () =&gt;  dispatch('inc'),
 expect: [isA&lt;CounterModel&gt;()],
);
</code></pre>
    </section>
    
    <section class="summary source-code" id="source">
      <h2><span>Implementation</span></h2>
      <pre class="language-dart"><code class="language-dart">&#47;&#47;&#47;
&#47;&#47;&#47; [build] should be used for initialization and preparation
&#47;&#47;&#47; and must return part of the `stream` under test.
&#47;&#47;&#47;
&#47;&#47;&#47; [act] is an optional callback which will be invoked to dispatch action&#47;s under
&#47;&#47;&#47; test.
&#47;&#47;&#47;
&#47;&#47;&#47; [skip] is an optional `int` which can be used to skip any number of states.
&#47;&#47;&#47; [skip] defaults to 0.
&#47;&#47;&#47;
&#47;&#47;&#47; [wait] is an optional `Duration` which can be used to wait for
&#47;&#47;&#47; async operations within the `store` such as `debounceTime`.
&#47;&#47;&#47;
&#47;&#47;&#47; [expect] is an optional `Iterable` of matchers which is expected to emit after
&#47;&#47;&#47; [act] is executed.
&#47;&#47;&#47;
&#47;&#47;&#47; [verify] is an optional callback which is invoked after [expect]
&#47;&#47;&#47; and can be used for additional verification&#47;assertions.
&#47;&#47;&#47; [verify] is called with the emited `list of state`.
&#47;&#47;&#47;
&#47;&#47;&#47; [tearDown] is an optional callback for clean up if you want.
&#47;&#47;&#47;
&#47;&#47;&#47; ```dart
&#47;&#47;&#47; ajwahTest(
&#47;&#47;&#47;   &#39;CounterState emits [1] when `dispatch(&#39;inc&#39;)`&#39;,
&#47;&#47;&#47;   build: () =&gt; select(&#39;counter&#39;),
&#47;&#47;&#47;   act: () =&gt; dispatch(&#39;inc&#39;),
&#47;&#47;&#47;   expect: [0, 1],
&#47;&#47;&#47; );
&#47;&#47;&#47; ```
&#47;&#47;&#47;
&#47;&#47;&#47; [ajwahTest] can also be used to test the initial state of the `counter` state
&#47;&#47;&#47; by omitting [act].
&#47;&#47;&#47;
&#47;&#47;&#47; ```dart
&#47;&#47;&#47; ajwahTest(
&#47;&#47;&#47;   &#39;CounterState emits [0] when nothing is called&#39;,
&#47;&#47;&#47;   build: () =&gt; select(&#39;counter&#39;),
&#47;&#47;&#47;   expect: [0],
&#47;&#47;&#47; );
&#47;&#47;&#47; ```
&#47;&#47;&#47;
&#47;&#47;&#47; [ajwahTest] can also be used to [skip] any number of emitted states
&#47;&#47;&#47; before asserting against the expected states.
&#47;&#47;&#47; [skip] defaults to 0.
&#47;&#47;&#47;
&#47;&#47;&#47; ```dart
&#47;&#47;&#47; ajwahTest(
&#47;&#47;&#47;   &#39;CounterState emits [2] when dispatch `inc` action twice&#39;,
&#47;&#47;&#47;   build: () =&gt; select(&#39;counter&#39;),
&#47;&#47;&#47;   act: () {
&#47;&#47;&#47;     dispatch(&#39;inc&#39;);
&#47;&#47;&#47;     dispatch(&#39;inc&#39;);
&#47;&#47;&#47;   },
&#47;&#47;&#47;   skip: 2,
&#47;&#47;&#47;   expect: [2],
&#47;&#47;&#47; );
&#47;&#47;&#47; ```
&#47;&#47;&#47;
&#47;&#47;&#47; [ajwahTest] can also be used to wait for async operations
&#47;&#47;&#47; by optionally providing a `Duration` to [wait].
&#47;&#47;&#47;
&#47;&#47;&#47; ```dart
&#47;&#47;&#47; ajwahTest(
&#47;&#47;&#47;   &#39;CounterState emits [1] when dispatch `inc` action&#39;,
&#47;&#47;&#47;   build: () =&gt; select(&#39;counter&#39;),
&#47;&#47;&#47;   act: () =&gt; dispatch(&#39;inc&#39;),
&#47;&#47;&#47;   wait: const Duration(milliseconds: 300),
&#47;&#47;&#47;   expect: [0,1],
&#47;&#47;&#47; );
&#47;&#47;&#47; ```
&#47;&#47;&#47;
&#47;&#47;&#47; [ajwahTest] can also be used to [verify] internal stream functionality.
&#47;&#47;&#47;
&#47;&#47;&#47; ```dart
&#47;&#47;&#47; ajwahTest(
&#47;&#47;&#47;   &#39;CounterState emits [1] when dispatch `inc` action&#39;,
&#47;&#47;&#47;   build: () =&gt; select(&#39;counter&#39;),
&#47;&#47;&#47;   act: () =&gt; dispatch(&#39;inc&#39;),
&#47;&#47;&#47;   expect: [0, 1],
&#47;&#47;&#47;   verify: (_) {
&#47;&#47;&#47;     verify(repository.someMethod(any)).called(1);
&#47;&#47;&#47;   }
&#47;&#47;&#47; );
&#47;&#47;&#47; ```
&#47;&#47;&#47;
&#47;&#47;&#47; **Note:** when using [ajwahTest] with state classes which don&#39;t override
&#47;&#47;&#47; `==` and `hashCode` you can provide an `Iterable` of matchers instead of
&#47;&#47;&#47; explicit state instances.
&#47;&#47;&#47;
&#47;&#47;&#47; ```dart
&#47;&#47;&#47; ajwahTest(
&#47;&#47;&#47;  &#39;emits [CounterModel] when dispatch `inc` action&#39;,
&#47;&#47;&#47;  build: () =&gt; select(&#39;counter&#39;),
&#47;&#47;&#47;  act: () =&gt;  dispatch(&#39;inc&#39;),
&#47;&#47;&#47;  expect: [isA&lt;CounterModel&gt;()],
&#47;&#47;&#47; );
&#47;&#47;&#47; ```
@isTest
void ajwahTest&lt;State&gt;(
  String description, {
  @required Stream&lt;State&gt; Function() build,
  Function act,
  Duration wait,
  int skip = 0,
  Iterable expect,
  Function(List&lt;State&gt; models) verify,
  Iterable errors,
  Function tearDown,
}) {
  test.test(description, () async {
    await runAjwahTest&lt;State&gt;(
      description,
      build: build,
      act: act,
      wait: wait,
      skip: skip,
      expect: expect,
      verify: verify,
      errors: errors,
      tearDown: tearDown,
    );
  });
}</code></pre>
    </section>

  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="col-xs-6 col-sm-6 col-md-2 sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    ajwah_bloc_test
      0.1.0
  </span>

</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="../static-assets/typeahead.bundle.min.js"></script>
<script src="../static-assets/highlight.pack.js"></script>
<script src="../static-assets/URI.js"></script>
<script src="../static-assets/script.js"></script>


</body>

</html>
